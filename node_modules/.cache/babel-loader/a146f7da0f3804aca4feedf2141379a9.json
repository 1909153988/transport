{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\components\\ImageUpload\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\components\\ImageUpload\\index.vue","mtime":1627990493471},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2F1dGggPSByZXF1aXJlKCJAL3V0aWxzL2F1dGgiKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHVwbG9hZEltZ1VybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSArICIvZmlsZS9maWxlL3VwbG9hZEZpbGUiLAogICAgICAvLyDkuIrkvKDnmoTlm77niYfmnI3liqHlmajlnLDlnYAKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJDb25zaWduICIgKyAoMCwgX2F1dGguZ2V0VG9rZW4pKCkKICAgICAgfQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmVJbWFnZTogZnVuY3Rpb24gcmVtb3ZlSW1hZ2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgIiIpOwogICAgfSwKICAgIGhhbmRsZVVwbG9hZFN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVVwbG9hZFN1Y2Nlc3MocmVzKSB7CiAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgcmVzLmRhdGEpOwogICAgICB0aGlzLmxvYWRpbmcuY2xvc2UoKTsKICAgIH0sCiAgICBoYW5kbGVCZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZUJlZm9yZVVwbG9hZCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICB0ZXh0OiAi5LiK5Lyg5LitIiwKICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVVcGxvYWRFcnJvcjogZnVuY3Rpb24gaGFuZGxlVXBsb2FkRXJyb3IoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgbWVzc2FnZTogIuS4iuS8oOWksei0pSIKICAgICAgfSk7CiAgICAgIHRoaXMubG9hZGluZy5jbG9zZSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHt9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;AAuCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,GAAA,uBAFA;AAEA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,aAAA,EAAA,aAAA;AADA;AAHA,KAAA;AAOA,GATA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAVA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,EAAA;AACA,KAHA;AAIA,IAAA,mBAJA,+BAIA,GAJA,EAIA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA;AACA,WAAA,OAAA,CAAA,KAAA;AACA,KAPA;AAQA,IAAA,kBARA,gCAQA;AACA,WAAA,OAAA,GAAA,KAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,KAFA;AAGA,QAAA,UAAA,EAAA;AAHA,OAAA,CAAA;AAKA,KAdA;AAeA,IAAA,iBAfA,+BAeA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,OAAA,EAAA;AAFA,OAAA;AAIA,WAAA,OAAA,CAAA,KAAA;AACA;AArBA,GAhBA;AAuCA,EAAA,KAAA,EAAA;AAvCA,C","sourcesContent":["<template>\n  <div class=\"component-upload-image\">\n    <el-upload\n      :action=\"uploadImgUrl\"\n      list-type=\"picture-card\"\n      :on-success=\"handleUploadSuccess\"\n      :before-upload=\"handleBeforeUpload\"\n      :on-error=\"handleUploadError\"\n      name=\"file\"\n      :show-file-list=\"false\"\n      :headers=\"headers\"\n      style=\"display: inline-block; vertical-align: top\"\n    >\n      <el-image v-if=\"!value\" :src=\"value\">\n        <div slot=\"error\" class=\"image-slot\">\n          <i class=\"el-icon-plus\" />\n        </div>\n      </el-image>\n      <div v-else class=\"image\">\n        <el-image :src=\"value\" :style=\"`width:150px;height:150px;`\" fit=\"fill\"/>\n        <div class=\"mask\">\n          <div class=\"actions\">\n            <span title=\"预览\" @click.stop=\"dialogVisible = true\">\n              <i class=\"el-icon-zoom-in\" />\n            </span>\n            <span title=\"移除\" @click.stop=\"removeImage\">\n              <i class=\"el-icon-delete\" />\n            </span>\n          </div>\n        </div>\n      </div>\n    </el-upload>\n    <el-dialog :visible.sync=\"dialogVisible\" title=\"预览\" width=\"800\" append-to-body>\n      <img :src=\"value\" style=\"display: block; max-width: 100%; margin: 0 auto;\">\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { getToken } from \"@/utils/auth\";\n\nexport default {\n  data() {\n    return {\n      dialogVisible: false,\n      uploadImgUrl: process.env.VUE_APP_BASE_API + \"/file/file/uploadFile\", // 上传的图片服务器地址\n      headers: {\n        Authorization: \"Consign \" + getToken(),\n      },\n    };\n  },\n  props: {\n    value: {\n      type: String,\n      default: \"\",\n    },\n  },\n  methods: {\n    removeImage() {\n      this.$emit(\"input\", \"\");\n    },\n    handleUploadSuccess(res) {\n      this.$emit(\"input\", res.data);\n      this.loading.close();\n    },\n    handleBeforeUpload() {\n      this.loading = this.$loading({\n        lock: true,\n        text: \"上传中\",\n        background: \"rgba(0, 0, 0, 0.7)\",\n      });\n    },\n    handleUploadError() {\n      this.$message({\n        type: \"error\",\n        message: \"上传失败\",\n      });\n      this.loading.close();\n    },\n  },\n  watch: {},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.image {\n  position: relative;\n  .mask {\n    opacity: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    transition: all 0.3s;\n  }\n  &:hover .mask {\n    opacity: 1;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/ImageUpload"}]}