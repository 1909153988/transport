{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js!D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\views\\basicdata\\paymentprocess\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\views\\basicdata\\paymentprocess\\index.vue","mtime":1627990487438},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIik7Cgp2YXIgX2luZGV4ID0gcmVxdWlyZSgiQC9hcGkvcGF5bWVudHByb2Nlc3MvaW5kZXgiKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybToge30sCiAgICAgIHZhbHVlOiBmYWxzZSwKICAgICAgYXBwcm92ZXM6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgY2l0aWVzOiBbXSwKICAgICAgY2l0aWVzVmFsdWU6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5blrqHmibnphY3nva7kv6Hmga8KICAgICAqICovCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5hcHByb3ZlcyA9IFt7fV07CiAgICAgICgwLCBfaW5kZXguZ2V0VXNlclBheUZsb3dTZXRMaXN0KShudWxsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSAhPSBudWxsKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSAhPSBudWxsICYmIHJlc3BvbnNlLmNvZGUgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwgJiYgcmVzcG9uc2UuZGF0YSAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB2YXIgZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIF90aGlzLmFwcHJvdmVzID0gZGF0YUxpc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog54K55Ye75re75Yqg5a6h5om55Lq6CiAgICAgKi8KICAgIGdldEFwcHJvdmU6IGZ1bmN0aW9uIGdldEFwcHJvdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgKDAsIF9pbmRleC5nZXRVc2VyUGF5Rmxvd1NldFVzZVVzZXJMaXN0KShudWxsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSAhPSBudWxsKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSAhPSBudWxsICYmIHJlc3BvbnNlLmNvZGUgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwgJiYgcmVzcG9uc2UuZGF0YSAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB2YXIgZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIF90aGlzMi5jaXRpZXMgPSBkYXRhTGlzdDsgLy8gYWxlcnQoZGF0YUxpc3QubGVuZ3RoKQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDmj5DkuqTmt7vliqDlrqHmibnkuroKICAgICAqCiAgICAgICovCiAgICBzdWJtaXRBcHByb3ZlOiBmdW5jdGlvbiBzdWJtaXRBcHByb3ZlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vIGFsZXJ0KHRoaXMuY2l0aWVzVmFsdWUpCiAgICAgIHZhciBhdWRpdFVzZXJJZCA9IHRoaXMuY2l0aWVzVmFsdWU7CgogICAgICBpZiAoYXVkaXRVc2VySWQgPT0gbnVsbCB8fCBhdWRpdFVzZXJJZCA9PSAnJyB8fCBhdWRpdFVzZXJJZC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMubXNnRXJyb3IoIuivt+mAieaLqeS4gOS4quWuoeaJueS6uiIpOwogICAgICB9IGVsc2UgewogICAgICAgICgwLCBfaW5kZXgucGF5Rmxvd1NldEFkZCkoYXVkaXRVc2VySWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSAhPSBudWxsICYmIHJlc3BvbnNlLmNvZGUgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzMy5tc2dTdWNjZXNzKHJlc3BvbnNlLm1zZyk7CgogICAgICAgICAgICBfdGhpczMuZ2V0TGlzdCgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLm1zZ0Vycm9yKCLmk43kvZzlpLHotKUiKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgX3RoaXMzLmNpdGllc1ZhbHVlID0gJyc7CiAgICAgICAgfSk7CiAgICAgIH0gLy8gaWYgKGFwcHJvdmUpIHsKICAgICAgLy8gICB0aGlzLmFwcHJvdmVzLnB1c2goYXBwcm92ZSkKICAgICAgLy8gICB0aGlzLmFwcHJvdmUgPSAnJzsKICAgICAgLy8gfQoKICAgIH0sCiAgICAvL2RlbAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKGkpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyhpKTsKICAgICAgdmFyIGF1ZGl0TmFtZSA9IHRoaXMuYXBwcm92ZXNbaV0uYXVkaXROYW1lOwogICAgICB2YXIgc2V0SWQgPSB0aGlzLmFwcHJvdmVzW2ldLnNldElkOwogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTlj5bmtojlrqHmibnkurrvvJoiJyArIGF1ZGl0TmFtZSArICciPycsICLorablkYoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyB0aGlzLm1zZ1N1Y2Nlc3Moc2V0SWQpOwogICAgICAgICgwLCBfaW5kZXgucGF5Rmxvd1NldFJlbW92ZSkoc2V0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSAhPSBudWxsICYmIHJlc3BvbnNlLmNvZGUgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzNC5tc2dTdWNjZXNzKHJlc3BvbnNlLm1zZyk7CgogICAgICAgICAgICBfdGhpczQuYXBwcm92ZXMuc3BsaWNlKGksIDEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM0Lm1zZ0Vycm9yKCLmk43kvZzlpLHotKUiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form ref=\"form\" :model=\"form\" label-width=\"140px\">\n      <!--        <el-form-item label=\"审核流程是否开启\">-->\n      <!--          <el-switch-->\n      <!--            v-model=\"value\"-->\n      <!--            active-color=\"#13ce66\"-->\n      <!--            inactive-color=\"#ccc\">-->\n      <!--          </el-switch>-->\n      <!--        </el-form-item>-->\n      <div>\n        <el-form-item label=\"审核流程配置\">\n          <el-tag\n            v-bind:key=\"item.setId\"\n            class=\"mr10\"\n            v-for=\"(item,index) in approves\"\n            closable\n            :disable-transitions=\"false\"\n            @close=\"handleClose(index)\">\n            {{item.auditName}}\n          </el-tag>\n          <el-button @click=\"getApprove\" size=\"mini\">+添加审批人</el-button>\n        </el-form-item>\n        <div class=\"\" style=\"margin-top: 60px\">\n          <el-steps align-center>\n            <el-step v-for=\"(item,index) in approves\" v-bind:key=\"item.setId\" :title=\"'第'+(index+1)+'步审批人'\"\n                     :description=\"item.auditName\"></el-step>\n          </el-steps>\n        </div>\n      </div>\n    </el-form>\n\n    <el-dialog\n      title=\"选择审批人\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\"\n    >\n\n      <el-form ref=\"form\" :model=\"form\" >\n<!--        <el-form-item label=\"选择处理人\">-->\n<!--          <el-input v-model=\"approve\"></el-input>-->\n<!--        </el-form-item>-->\n        <template>\n          <el-select v-model.trim=\"citiesValue\" placeholder=\"请选择审批人\"   style=\"width: 400px;\">\n            <el-option style=\"width: 300px\"\n              v-for=\"item in cities\"\n              :key=\"item.auditUserId\"\n              :label=\"item.auditName\"\n              :value=\"item.auditUserId\">\n              <span style=\"float: left\">{{ item.auditName  }}</span>\n              <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.companyName}}</span>\n            </el-option>\n          </el-select>\n        </template>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"submitApprove()\">确 定</el-button>\n        </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {getUserPayFlowSetList, getUserPayFlowSetUseUserList, payFlowSetRemove,payFlowSetAdd} from \"@/api/paymentprocess/index\";\n\n  export default {\n\n    data() {\n      return {\n        form: {},\n        value: false,\n        approves: [],\n        dialogVisible: false,\n        cities: [],\n        citiesValue: ''\n      };\n    },\n    mounted() {\n\n      this.getList();\n    },\n    methods: {\n\n      /**\n       * 获取审批配置信息\n       * */\n      getList() {\n        this.loading = true;\n\n        this.approves = [{}];\n        getUserPayFlowSetList(null).then(response => {\n\n          if (response != null) {\n\n            if (response.code != null && response.code != undefined && response.code == 200) {\n              if (response.data != null && response.data != undefined) {\n                const dataList = response.data;\n                this.approves = dataList;\n              }\n\n            }\n\n          }\n          this.loading = false;\n        });\n      },\n\n\n      /**\n       * 点击添加审批人\n       */\n      getApprove() {\n        this.dialogVisible = true;\n        this.loading = true;\n\n        getUserPayFlowSetUseUserList(null).then(response => {\n\n          if (response != null) {\n\n            if (response.code != null && response.code != undefined && response.code == 200) {\n              if (response.data != null && response.data != undefined) {\n                const dataList = response.data;\n                this.cities=dataList;\n                // alert(dataList.length)\n              }\n\n            }\n\n          }\n          this.loading = false;\n        });\n\n\n      },\n\n      /**\n       * 提交添加审批人\n       *\n        */\n      submitApprove() {\n       // alert(this.citiesValue)\n        let auditUserId = this.citiesValue\n\n        if(auditUserId==null || auditUserId=='' || auditUserId.length==0){\n          this.msgError(\"请选择一个审批人\");\n\n        }else {\n        payFlowSetAdd(auditUserId).then(response => {\n\n          if (response.code != null && response.code != undefined && response.code == 200) {\n            this.msgSuccess(response.msg);\n            this.getList();\n          } else {\n            this.msgError(\"操作失败\");\n          }\n            this.dialogVisible = false\n          this.citiesValue='';\n        });\n        }\n        // if (approve) {\n        //   this.approves.push(approve)\n        //   this.approve = '';\n        // }\n      },\n      //del\n      handleClose(i) {\n        console.log(i);\n\n        const auditName = this.approves[i].auditName;\n        const setId = this.approves[i].setId;\n        this.$confirm('是否确认取消审批人：\"' + auditName + '\"?', \"警告\", {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          // this.msgSuccess(setId);\n\n          payFlowSetRemove(setId).then(response => {\n\n            if (response.code != null && response.code != undefined && response.code == 200) {\n              this.msgSuccess(response.msg);\n              this.approves.splice(i, 1)\n\n            } else {\n              this.msgError(\"操作失败\");\n            }\n          });\n\n        }).catch(() => {\n\n\n        });\n      }\n    },\n  };\n</script>\n"],"sourceRoot":"src/views/basicdata/paymentprocess"}]}