{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\views\\filemanagement\\driver\\add\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\views\\filemanagement\\driver\\add\\index.vue","mtime":1627990491973},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAiQC91dGlscy9hdXRoIjsKaW1wb3J0IHsgc2F2ZURyaXZlciB9IGZyb20gIi4uLy4uLy4uLy4uL2FwaS9jYXBhY2l0eS9kcml2ZXIiCmltcG9ydCBJbWFnZU9DUlVwbG9hZCBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL0ltYWdlT0NSVXBsb2FkL2luZGV4JwppbXBvcnQgSW1hZ2VVcGxvYWQgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9JbWFnZVVwbG9hZC9pbmRleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICBmb3JtOnsKCiAgICAgIH0sCiAgICAgIGlkQ2FyZFo6ewogICAgICAgIGlkQ2FyZE9yY1VybDogICcvdHJhbnNwb3J0L2ZpbGUvSURDYXJkT0NSQW5kVXBsb2FkJywKICAgICAgICBpbWFnZVVybDonJywKICAgICAgICBoYXNQZXJtaTondHJhbnNwb3J0OmZpbGU6SURDYXJkT0NSQW5kVXBsb2FkJwogICAgICB9LAogICAgICBpZENhcmRGOnsKICAgICAgICBpZENhcmRPcmNVcmw6ICAnL3RyYW5zcG9ydC9maWxlL0lEQ2FyZE9DUkFuZFVwbG9hZCcsCiAgICAgICAgaW1hZ2VVcmw6JycsCiAgICAgICAgaGFzUGVybWk6J3RyYW5zcG9ydDpmaWxlOklEQ2FyZE9DUkFuZFVwbG9hZCcKICAgICAgfSwKICAgICAgRExDYXJkWjp7CiAgICAgICAgaWRDYXJkT3JjVXJsOiAgJy90cmFuc3BvcnQvZmlsZS9ETENhcmRPQ1JBbmRVcGxvYWQnLAogICAgICAgIGltYWdlVXJsOicnLAogICAgICAgIGhhc1Blcm1pOid0cmFuc3BvcnQ6ZmlsZTpETENhcmRPQ1JBbmRVcGxvYWQnCiAgICAgIH0sCiAgICAgIERMQ2FyZEY6ewogICAgICAgIGlkQ2FyZE9yY1VybDogICcvdHJhbnNwb3J0L2ZpbGUvRExDYXJkT0NSQW5kVXBsb2FkJywKICAgICAgICBpbWFnZVVybDonJywKICAgICAgICBoYXNQZXJtaTondHJhbnNwb3J0OmZpbGU6RExDYXJkT0NSQW5kVXBsb2FkJwogICAgICB9LAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkNvbnNpZ24gIiArIGdldFRva2VuKCksCiAgICAgIH0sCiAgICAgIGNhckxpc3Q6W10sCiAgICAgIHBheWVlTGlzdDpbXSwKICAgICAgcnVsZXM6ewogICAgICAgIGNvbXBhbnlOYW1lOlsKICAgICAgICAgIHtyZXF1aXJlZDp0cnVlICwgbWVzc2FnZTon5LiN6IO95Li656m6J30KICAgICAgICBdCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6ewogICAgSW1hZ2VPQ1JVcGxvYWQsCiAgICBJbWFnZVVwbG9hZAogIH0sCgogIG1ldGhvZHM6ewogICAgc3VibWl0Rm9ybShmb3JtTmFtZSl7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgYWxlcnQoJ3N1Ym1pdCEnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzYXZlRHJpdmVyKCl7CiAgICAgIHNhdmVEcml2ZXIoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICB9KQogICAgfSwKICAgIC8v5LiK5Lyg5oiQ5YqfCiAgICBpZENhcmREYXRhKHJlcywgZmlsZSwgZmlsZUxpc3QpewogICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgIGlmKHJlcy5jb2RlID09IDIwMCApIHsKICAgICAgICB0aGlzLmZvcm0uaWRjYXJkID0gcmVzLmRhdGEuaWRjYXJkOwogICAgICAgIHRoaXMuZm9ybS5uYW1lID0gcmVzLmRhdGEubmFtZTsKICAgICAgICB0aGlzLmltYWdlVXJsID0gcmVzLmRhdGEuZmlsZVVybDsKICAgICAgfQogICAgfSwKICAgIG9jckRhdGEodmFsKXsKICAgICAgY29uc29sZS5sb2codmFsICsgJ35+fn5+fn5+JykKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/filemanagement/driver/add","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"180px\">\n\n      <div class=\"mb20\">\n        <el-divider content-position=\"left\">身份信息</el-divider>\n      </div>\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"身份证头像面\" prop=\"\">\n            <ImageOCRUpload  :url=\"idCardZ.idCardOrcUrl\"  :isShowTip=\"false\" @ocrData=\"ocrData\" ></ImageOCRUpload>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"司机姓名\" prop=\"companyName\">\n            <el-input v-model=\"form.name\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"注册手机号\" prop=\"companyName\">\n            <el-input v-model=\"form.phone\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"身份证号\" prop=\"companyName\">\n            <el-input v-model=\"form.idcard\"></el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"身份证国徽面\" prop=\"\">\n            <ImageOCRUpload  :url=\"idCardF.idCardOrcUrl\"  :isShowTip=\"false\"></ImageOCRUpload>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"身份证永久有效\" prop=\"companyName\">\n            <el-select v-model=\"form.idCardLongEff\" placeholder=\"请选择\">\n              <el-option label=\"是\" :value=\"0\"></el-option>\n              <el-option label=\"否\" :value=\"1\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"身份证有效开始日期\" prop=\"companyName\">\n            <el-date-picker\n              v-model=\"form.idCardPeriodStartTime\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd hh:mm:ss\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"身份证有效结束日期\" prop=\"companyName\">\n            <el-date-picker\n              v-model=\"form.idCardPeriodEndTime\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd hh:mm:ss\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <div class=\"mb20\">\n        <el-divider content-position=\"left\">驾驶证信息</el-divider>\n        <!-- <el-divider content-position=\"left\"/> <span class=\"weight\">驾驶证信息</span> -->\n      </div>\n\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"驾驶证正本\" prop=\"\">\n            <ImageOCRUpload  :url=\"DLCardZ.idCardOrcUrl\" :isShowTip=\"false\" ></ImageOCRUpload>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"驾驶证号\" prop=\"companyName\">\n            <el-input v-model=\"form.drivingNumber\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"准驾车型\" prop=\"companyName\">\n            <el-input v-model=\"form.vehicleType\"></el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"驾驶证副本\" prop=\"\">\n            <ImageOCRUpload  :url=\"DLCardF.idCardOrcUrl\"  :isShowTip=\"false\" ></ImageOCRUpload>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"驾驶证有效开始日期\" prop=\"companyName\">\n            <el-date-picker\n              v-model=\"form.drivingStartTime\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd hh:mm:ss\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"驾驶证有效结束日期\" prop=\"companyName\">\n            <el-date-picker\n              v-model=\"form.drivingEndTime\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd hh:mm:ss\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <div class=\"mb20\">\n        <!-- <el-divider content-position=\"left\"/> <span class=\"weight\">从业资格证信息</span> -->\n         <el-divider content-position=\"left\">从业资格证信息</el-divider>\n      </div>\n\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"从业资格证\" prop=\"\">\n            <ImageUpload></ImageUpload>\n          </el-form-item>\n        </el-col>\n\n        <el-col :span=\"8\">\n          <el-form-item label=\"从业资格证号\" prop=\"companyName\">\n            <el-input v-model=\"form.companyName\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"从业资格证有效开始日期\" prop=\"companyName\">\n            <el-date-picker\n              v-model=\"form.qualifiedPeriodStartTime\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd hh:mm:ss\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"从业资格证有效结束日期\" prop=\"companyName\">\n            <el-date-picker\n              v-model=\"form.qualifiedPeriodEndTime\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd hh:mm:ss\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <div class=\"mb20\">\n        <!-- <el-divider content-position=\"left\"/> <span class=\"weight\">其他信息</span> -->\n         <el-divider content-position=\"left\">其它信息</el-divider>\n      </div>\n      <el-row>\n        <el-col :span=\"8\">\n          <el-form-item label=\"代收款协议\" prop=\"\">\n            <ImageUpload></ImageUpload>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"关联车辆\" prop=\"companyName\">\n            <el-input v-model=\"form.companyName\"></el-input>\n            <el-button class=\"ml5\" @click=\"\" plain>+</el-button>\n          </el-form-item>\n          <el-form-item label=\"关联收款人\" prop=\"companyName\">\n            <el-input v-model=\"form.companyName\"></el-input>\n            <el-button class=\"ml5\" @click=\"\" plain>+</el-button>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n\n\n      <div>\n        <el-form-item label=\" \">\n          <el-button type=\"primary\" @click=\"submitForm('form')\" plain>提交</el-button>\n        </el-form-item>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { getToken } from \"@/utils/auth\";\nimport { saveDriver } from \"../../../../api/capacity/driver\"\nimport ImageOCRUpload from '../../../../components/ImageOCRUpload/index'\nimport ImageUpload from '../../../../components/ImageUpload/index'\n\nexport default {\n  data(){\n    return {\n      form:{\n\n      },\n      idCardZ:{\n        idCardOrcUrl:  '/transport/file/IDCardOCRAndUpload',\n        imageUrl:'',\n        hasPermi:'transport:file:IDCardOCRAndUpload'\n      },\n      idCardF:{\n        idCardOrcUrl:  '/transport/file/IDCardOCRAndUpload',\n        imageUrl:'',\n        hasPermi:'transport:file:IDCardOCRAndUpload'\n      },\n      DLCardZ:{\n        idCardOrcUrl:  '/transport/file/DLCardOCRAndUpload',\n        imageUrl:'',\n        hasPermi:'transport:file:DLCardOCRAndUpload'\n      },\n      DLCardF:{\n        idCardOrcUrl:  '/transport/file/DLCardOCRAndUpload',\n        imageUrl:'',\n        hasPermi:'transport:file:DLCardOCRAndUpload'\n      },\n      headers: {\n        Authorization: \"Consign \" + getToken(),\n      },\n      carList:[],\n      payeeList:[],\n      rules:{\n        companyName:[\n          {required:true , message:'不能为空'}\n        ]\n      }\n    }\n  },\n  components:{\n    ImageOCRUpload,\n    ImageUpload\n  },\n\n  methods:{\n    submitForm(formName){\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          alert('submit!');\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    saveDriver(){\n      saveDriver().then(res => {\n        console.log(res)\n      })\n    },\n    //上传成功\n    idCardData(res, file, fileList){\n      console.log(res)\n      if(res.code == 200 ) {\n        this.form.idcard = res.data.idcard;\n        this.form.name = res.data.name;\n        this.imageUrl = res.data.fileUrl;\n      }\n    },\n    ocrData(val){\n      console.log(val + '~~~~~~~~')\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.el-divider--vertical {\n  width: 5px;\n  height: 1.5em;\n  background-color: #1890ff;\n}\n</style>\n"]}]}