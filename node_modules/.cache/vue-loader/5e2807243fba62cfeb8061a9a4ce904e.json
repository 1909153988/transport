{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\views\\filemanagement\\driver\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\views\\filemanagement\\driver\\index.vue","mtime":1627990491985},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHF1ZXJ5RHJpdmVySW5mbyxpbXBvcnREcml2ZXIscXVlcnlEcml2ZXJzLGV4cG9ydERyaXZlcixkZWxldGVEcml2ZXIgfSBmcm9tICIuLi8uLi8uLi9hcGkvY2FwYWNpdHkvZHJpdmVyIgppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICIuLi8uLi8uLi9jb21wb25lbnRzL1BhZ2luYXRpb24vaW5kZXgiCmltcG9ydCBGaWxlVXBsb2FkIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvRmlsZVVwbG9hZC9pbmRleCIKCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOltdLAogICAgICB0aW1lOltdLAogICAgICB0b3RhbDowLAogICAgICBpbXBvcnREcml2ZXJVcmw6ICcvdHJhbnNwb3J0L2RyaXZlck1hbmFnZS9pbXBvcnREcml2ZXInLAogICAgICB0ZXh0Oiflr7zlhaXlj7jmnLonLAogICAgICBxdWVyeVBhcmFtczp7fSwKICAgICAgZmlsZUxpc3Q6W10KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE1hcExpc3QoKQogIH0sCiAgY29tcG9uZW50czp7CiAgICBQYWdpbmF0aW9uLAogICAgRmlsZVVwbG9hZAogIH0sCiAgbWV0aG9kczogewogICAgZ29BZGQoKXsKICAgICAgY29uc29sZS5sb2codGhpcy4kcm91dGVyKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2ZpbGVtYW5hZ2VtZW50L2FkZGRyaXZlciIpCiAgICB9LAogICAgZ29FZGl0KGlkKXsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6Ii9maWxlbWFuYWdlbWVudC9lZGl0ZHJpdmVyIixxdWVyeTp7aWQ6aWR9fSkKICAgIH0sCiAgICAvLyDmnaHku7bmn6Xor6Llj7jmnLrliJfooagKICAgIGdldE1hcExpc3QoKXsKICAgICAgcXVlcnlEcml2ZXJzKCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICBpZihyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5p+l6K+i5oiQ5Yqf77yBIikKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLnJvd3M7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgogICAgLy/lr7zlhaXlj7jmnLoKICAgIGltcG9ydERyaXZlcnMoZmlsZSl7CgogICAgfSwKICAgIC8v5a+85Ye65Y+45py6CiAgICBleHBvcnREcml2ZXIoKXsKICAgICAgbGV0IHBhcmFtcyA9IHt9OwogICAgICAvLyBleHBvcnREcml2ZXIoKS50aGVuKHJlcyA9PiB7CiAgICAgIC8vICAgY29uc29sZS5sb2cocmVzKQogICAgICAvLyB9KQogICAgICB0aGlzLmRvd25sb2FkKCcvdHJhbnNwb3J0L2RyaXZlck1hbmFnZS9leHBvcnREcml2ZXInLCB7CiAgICAgICAgLi4udGhpcy5xdWVyeVBhcmFtcwogICAgICB9LCBgZHJpdmVyXyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9Lnhsc3hgKQogICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuWvvOWHuuaIkOWKn++8gSIpCiAgICB9LAogICAgLy/liKDpmaTlj7jmnLoKICAgIHJlbW92ZShpZCkgewogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbliKDpmaQgPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKCiAgICAgICAgZGVsZXRlRHJpdmVyKHtjaGF1ZmZldXJJZDppZH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIGlmKHJlcy5jb2RlID09IDIwMCkgewoKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMuZ2V0TWFwTGlzdCgpCiAgICAgICAgICB9CiAgICAgICAgfSkKCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/filemanagement/driver","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"mb20 flex justify-end\">\n      <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"司机姓名\"></el-option>\n        <el-option value=\"1\" label=\"已停用\"></el-option>\n        <el-option value=\"1\" label=\"待审核\"></el-option>\n      </el-select>\n       <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"注册手机号\"></el-option>\n        <el-option value=\"1\" label=\"已停用\"></el-option>\n        <el-option value=\"1\" label=\"待审核\"></el-option>\n      </el-select>\n\n      <el-date-picker\n        class=\"mr10\"\n        size=\"small\"\n        v-model=\"time\"\n        type=\"daterange\"\n        range-separator=\"至\"\n        start-placeholder=\"开始日期\"\n        end-placeholder=\"结束日期\">\n      </el-date-picker>\n\n      <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"审核状态\"></el-option>\n        <el-option value=\"1\" label=\"手机号\"></el-option>\n      </el-select>\n      <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"身份证状态\"></el-option>\n        <el-option value=\"1\" label=\"手机号\"></el-option>\n      </el-select>\n      <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"驾驶证状态\"></el-option>\n        <el-option value=\"1\" label=\"手机号\"></el-option>\n      </el-select>\n       <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"道路运输从业资\"></el-option>\n        <el-option value=\"1\" label=\"手机号\"></el-option>\n      </el-select>\n      <el-button size=\"small\" type=\"primary\" plain>查询</el-button>\n        <el-button size=\"small\" type=\"primary\" plain>清空</el-button>\n    </div>\n\n    <div class=\"mb20 flex \">\n      <el-button size=\"small\" type=\"primary\" @click=\"goAdd\" plain>添加司机</el-button>\n<!--      <el-button size=\"small\" type=\"warning\" plain @click=\"goEdit\">编辑</el-button>-->\n      <el-button size=\"small\" type=\"danger\" class=\"mr10\" plain>删除</el-button>\n\n\n      <FileUpload :url = \"importDriverUrl\" :text=\"text\" :isShowTip=\"false\"></FileUpload>\n\n\n      <el-button size=\"small\" type=\"warning\"  plain>导入司机证照</el-button>\n      <el-button size=\"small\" type=\"primary\" @click=\"exportDriver\" plain>导出</el-button>\n    </div>\n\n\n    <el-table\n      :data=\"tableData\"\n      ref=\"table\"\n      style=\"width: 100%\">\n      <el-table-column type=\"selection\" ></el-table-column>\n      <el-table-column prop=\"chauffeurId\" label=\"序号\" ></el-table-column>\n      <el-table-column prop=\"name\" label=\"司机姓名\" ></el-table-column>\n      <el-table-column prop=\"phone\" label=\"手机号\" ></el-table-column>\n      <el-table-column prop=\"idCardNumber\" label=\"身份证号\" ></el-table-column>\n      <el-table-column prop=\"auditStatus\" label=\"审核状态\" ></el-table-column>\n      <el-table-column prop=\"idCardState\" label=\"身份证状态\" ></el-table-column>\n      <el-table-column prop=\"drivingState\" label=\"驾驶证状态\" ></el-table-column>\n      <el-table-column prop=\"certificateState\" label=\"道路运输从业资格证状态\" ></el-table-column>\n      <el-table-column prop=\"date\" label=\"身份证正面\" ></el-table-column>\n      <el-table-column prop=\"date\" label=\"身份证反面\" ></el-table-column>\n      <el-table-column prop=\"date\" label=\"驾驶证\" ></el-table-column>\n      <el-table-column prop=\"date\" label=\"道路运输从业资格证\" ></el-table-column>\n      <el-table-column prop=\"date\" label=\"代收协议\" ></el-table-column>\n      <el-table-column prop=\"vehicleNumber\" label=\"关联车辆\" ></el-table-column>\n      <el-table-column prop=\"driverId\" label=\"关联收款人\" ></el-table-column>\n        <el-table-column prop=\"createBy\" label=\"创建人\" ></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\" ></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"操作\" fixed=\"right\" width=\"200\">\n        <template slot-scope=\"data\">\n          <span class=\"operate mr10\" @click=\"goEdit(data.row.chauffeurId)\">编辑</span>\n          <span class=\"operate mr10\" @click=\"remove(data.row.chauffeurId)\">删除</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <Pagination :total=\"total\"></Pagination>\n  </div>\n</template>\n\n<script>\nimport { queryDriverInfo,importDriver,queryDrivers,exportDriver,deleteDriver } from \"../../../api/capacity/driver\"\nimport Pagination from \"../../../components/Pagination/index\"\nimport FileUpload from \"../../../components/FileUpload/index\"\n\n\nexport default {\n  data(){\n    return {\n      tableData:[],\n      time:[],\n      total:0,\n      importDriverUrl: '/transport/driverManage/importDriver',\n      text:'导入司机',\n      queryParams:{},\n      fileList:[]\n    }\n  },\n  created() {\n    this.getMapList()\n  },\n  components:{\n    Pagination,\n    FileUpload\n  },\n  methods: {\n    goAdd(){\n      console.log(this.$router)\n      this.$router.push(\"/filemanagement/adddriver\")\n    },\n    goEdit(id){\n      this.$router.push({path:\"/filemanagement/editdriver\",query:{id:id}})\n    },\n    // 条件查询司机列表\n    getMapList(){\n      queryDrivers().then(res => {\n        console.log(res)\n        if(res.code == 200) {\n          this.msgSuccess(\"查询成功！\")\n          this.tableData = res.rows;\n          this.total = res.total;\n        }\n      })\n    },\n\n    //导入司机\n    importDrivers(file){\n\n    },\n    //导出司机\n    exportDriver(){\n      let params = {};\n      // exportDriver().then(res => {\n      //   console.log(res)\n      // })\n      this.download('/transport/driverManage/exportDriver', {\n        ...this.queryParams\n      }, `driver_${new Date().getTime()}.xlsx`)\n      this.msgSuccess(\"导出成功！\")\n    },\n    //删除司机\n    remove(id) {\n      this.$confirm('是否删除 ?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n\n        deleteDriver({chauffeurId:id}).then(res => {\n          // console.log(res)\n          if(res.code == 200) {\n\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n\n            this.getMapList()\n          }\n        })\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n"]}]}