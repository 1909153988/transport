{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\views\\filemanagement\\shipowner\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\views\\filemanagement\\shipowner\\index.vue","mtime":1627990492032},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbWFnZVVwbG9hZCAgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9JbWFnZVVwbG9hZC9pbmRleCcKCmltcG9ydCB7CiAgcXVlcnlTa2lwcGVycywKICBpbXBvcnRTa2lwcGVyLAogIGV4cG9ydFNraXBwZXIsCiAgZGVsZXRlU2tpcHBlciwKICBzYXZlU2tpcHBlcgp9IGZyb20gIi4uLy4uLy4uL2FwaS9jYXBhY2l0eS9zaGlwb3duZXIiCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvUGFnaW5hdGlvbi9pbmRleCIKaW1wb3J0IEZpbGVVcGxvYWQgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9GaWxlVXBsb2FkL2luZGV4IgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgICBmb3JtOnt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgaW1wb3J0U2hpcG93bmVyVXJsOiAnL3RyYW5zcG9ydC9za2lwcGVyTWFuYWdlL2ltcG9ydFNraXBwZXInLAogICAgICB0ZXh0Oiflr7zlhaXoiLnkuJwnLAogICAgICB0aW1lOiBbXSwKICAgICAgdG90YWw6MCwKICAgICAgIHJ1bGVzOnsKCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRNYXBMaXN0KCkKICB9LAogIGNvbXBvbmVudHM6ewogICAgSW1hZ2VVcGxvYWQsCiAgICBQYWdpbmF0aW9uLAogICAgRmlsZVVwbG9hZAogIH0sCiAgbWV0aG9kczogewogICAgLy/mn6Xor6IKICAgIGdldE1hcExpc3QoKXsKICAgICAgcXVlcnlTa2lwcGVycygpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgaWYocmVzLmNvZGUgPT0gMjAwKXsKICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5p+l6K+i5oiQ5Yqf77yBIikKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLnJvd3M7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8v5Yig6ZmkCiAgICByZW1vdmUoaWQpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm5Yig6ZmkID8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CgogICAgICAgIGRlbGV0ZVNraXBwZXIoe3NraXBwZXJJZDppZH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIGlmKHJlcy5jb2RlID09IDIwMCkgewoKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CgogICAgfSwKICAgIC8v5a+85YWlCiAgICBpbXBvcnRTa2lwcGVyKCl7CiAgICAgIGltcG9ydFNraXBwZXIoKS50aGVuKHJlcyA9PiB7CgogICAgICB9KQogICAgfSwKICAgIC8v5a+85Ye6CiAgICBleHBvcnRTa2lwcGVyKCl7CiAgICAgIGxldCBwYXJhbXMgPSB7fTsKICAgICAgLy8gZXhwb3J0RHJpdmVyKCkudGhlbihyZXMgPT4gewogICAgICAvLyAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgLy8gfSkKICAgICAgdGhpcy5kb3dubG9hZCgnL3RyYW5zcG9ydC9za2lwcGVyTWFuYWdlL2V4cG9ydFNraXBwZXInLCB7CiAgICAgICAgLi4udGhpcy5xdWVyeVBhcmFtcwogICAgICB9LCBgc2hpcG93bmVyXyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9Lnhsc3hgKQogICAgfSwKCiAgICBnb0FkZCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goIi9maWxlbWFuYWdlbWVudC9hZGRzaGlwb3duZXIiKTsKICAgIH0sCiAgICBnb0VkaXQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZmlsZW1hbmFnZW1lbnQvZWRpdHNoaXBvd25lciIpOwogICAgfSwKICAgIGFkZCgpewogICAgICBzYXZlU2tpcHBlcih0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZihyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMubXNnU3VjY2VzcyhyZXMubXNnKQogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmdldE1hcExpc3QoKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVDbG9zZShkb25lKSB7CiAgICAgIC8vIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWFs+mXre+8nycpCiAgICAgIC8vICAgLnRoZW4oXyA9PiB7CiAgICAgIC8vICAgICBkb25lKCk7CiAgICAgIC8vICAgfSkKICAgICAgLy8gICAuY2F0Y2goXyA9PiB7fSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/filemanagement/shipowner","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"mb20 flex justify-end\">\n      <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"船舶姓名\"></el-option>\n        <el-option value=\"1\" label=\"已停用\"></el-option>\n        <el-option value=\"1\" label=\"待审核\"></el-option>\n      </el-select>\n\n      <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"注册手机号\"></el-option>\n        <el-option value=\"1\" label=\"已停用\"></el-option>\n        <el-option value=\"1\" label=\"待审核\"></el-option>\n      </el-select>\n\n      <el-date-picker\n        class=\"mr10\"\n        size=\"small\"\n        v-model=\"time\"\n        type=\"daterange\"\n        range-separator=\"至\"\n        start-placeholder=\"开始日期\"\n        end-placeholder=\"结束日期\"\n      >\n      </el-date-picker>\n\n      <el-select size=\"small mr5\" value=\"\">\n        <el-option value=\"\" label=\"审核状态\"></el-option>\n        <el-option value=\"1\" label=\"已停用\"></el-option>\n        <el-option value=\"1\" label=\"待审核\"></el-option>\n      </el-select>\n\n      <el-button size=\"small\" type=\"primary\" @click=\"goAdd\" plain\n        >查询</el-button\n      >\n      <el-button size=\"small\" type=\"primary\" @click=\"goAdd\" plain\n        >清空</el-button\n      >\n    </div>\n    <div class=\"mb20 flex\" style=\"margin-top: 20px\">\n      <el-button size=\"small\" type=\"primary\" plain @click=\"goAdd\"\n        >添加船东</el-button\n      >\n      <el-button size=\"small\" type=\"warning\" plain @click=\"goEdit\"\n        >编辑</el-button\n      >\n      <el-button size=\"small\" type=\"danger\" class=\"mr10\" plain>删除</el-button>\n<!--      <el-button size=\"small\" type=\"info\" plain>导入船东</el-button>-->\n\n      <FileUpload :url = \"importShipownerUrl\" :text=\"text\" :isShowTip=\"false\"></FileUpload>\n      <el-button size=\"small\" type=\"warning\" plain>导入船东证照</el-button>\n      <el-button size=\"small\" type=\"primary\" @click=\"exportSkipper\" plain\n        >导出</el-button\n      >\n    </div>\n\n    <el-table :data=\"tableData\" style=\"width: 100%\">\n      <el-table-column type=\"selection\"></el-table-column>\n      <el-table-column prop=\"skipperId\" label=\"序号\"></el-table-column>\n      <el-table-column prop=\"name\" label=\"船东姓名\"></el-table-column>\n      <el-table-column prop=\"phone\" label=\"手机号\"></el-table-column>\n      <el-table-column prop=\"idCardNumber\" label=\"身份证号\"></el-table-column>\n      <el-table-column prop=\"auditStatus\" label=\"审核状态\"></el-table-column>\n      <el-table-column prop=\"date\" label=\"身份证状态\"></el-table-column>\n      <el-table-column prop=\"idCardPerson\" label=\"身份证正面\"></el-table-column>\n      <el-table-column prop=\"idCardBadge\" label=\"身份证反面\"></el-table-column>\n      <el-table-column prop=\"createBy\" label=\"创建人\"></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\"></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"操作\" fixed=\"right\" width=\"200\">\n        <template slot-scope=\"data\">\n          <span class=\"operate mr10\" @click=\"remove(data.row.skipperId)\">编辑</span>\n          <span class=\"operate mr10\" @click=\"remove(data.row.skipperId)\">删除</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <Pagination :total=\"total\"></Pagination>\n\n    <!-- 添加船东对话框 -->\n    <el-dialog\n      title=\"添加船东\"\n      :visible.sync=\"dialogVisible\"\n      width=\"50%\"\n      :before-close=\"handleClose\"\n    >\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"150px\">\n        <!-- <div class=\"mb20\">\n          <el-divider direction=\"vertical\" />\n          <span class=\"weight\">添加船东</span>\n        </div> -->\n        <el-form-item label=\"身份证头像面\" required prop=\"\">\n          <ImageUpload></ImageUpload>\n        </el-form-item>\n        <el-form-item label=\"身份证国徽面\" required prop=\"\">\n          <ImageUpload></ImageUpload>\n        </el-form-item>\n        <el-form-item label=\"船东姓名\" prop=\"companyName\">\n          <el-input v-model=\"form.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"身份证号\" required>\n          <el-input v-model=\"form.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"注册手机号\" required>\n          <el-input v-model=\"form.name\"></el-input>\n        </el-form-item>\n        <div>\n          <el-form-item label=\" \">\n            <!-- <el-button type=\"primary\" @click=\"submitForm('form')\">提交</el-button> -->\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"add\" >确 定</el-button\n            >\n          </el-form-item>\n        </div>\n      </el-form>\n      <!-- <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"dialogVisible = false\"\n          >确 定</el-button\n        >\n      </span> -->\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport ImageUpload  from '../../../components/ImageUpload/index'\n\nimport {\n  querySkippers,\n  importSkipper,\n  exportSkipper,\n  deleteSkipper,\n  saveSkipper\n} from \"../../../api/capacity/shipowner\"\nimport Pagination from \"../../../components/Pagination/index\"\nimport FileUpload from \"../../../components/FileUpload/index\"\nexport default {\n  data() {\n    return {\n       form:{},\n      dialogVisible: false,\n      tableData: [],\n      importShipownerUrl: '/transport/skipperManage/importSkipper',\n      text:'导入船东',\n      time: [],\n      total:0,\n       rules:{\n\n      }\n    };\n  },\n  created() {\n    this.getMapList()\n  },\n  components:{\n    ImageUpload,\n    Pagination,\n    FileUpload\n  },\n  methods: {\n    //查询\n    getMapList(){\n      querySkippers().then(res => {\n        console.log(res)\n        if(res.code == 200){\n          this.msgSuccess(\"查询成功！\")\n          this.tableData = res.rows;\n          this.total = res.total\n        }\n      })\n    },\n    //删除\n    remove(id) {\n      this.$confirm('是否删除 ?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n\n        deleteSkipper({skipperId:id}).then(res => {\n          // console.log(res)\n          if(res.code == 200) {\n\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n          }\n        })\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n\n    },\n    //导入\n    importSkipper(){\n      importSkipper().then(res => {\n\n      })\n    },\n    //导出\n    exportSkipper(){\n      let params = {};\n      // exportDriver().then(res => {\n      //   console.log(res)\n      // })\n      this.download('/transport/skipperManage/exportSkipper', {\n        ...this.queryParams\n      }, `shipowner_${new Date().getTime()}.xlsx`)\n    },\n\n    goAdd() {\n      this.dialogVisible = true;\n      // this.$router.push(\"/filemanagement/addshipowner\");\n    },\n    goEdit() {\n      this.$router.push(\"/filemanagement/editshipowner\");\n    },\n    add(){\n      saveSkipper(this.form).then(res => {\n        if(res.code == 200) {\n          this.msgSuccess(res.msg)\n          this.dialogVisible = false;\n          this.getMapList()\n        }\n      })\n    },\n    handleClose(done) {\n      // this.$confirm('确认关闭？')\n      //   .then(_ => {\n      //     done();\n      //   })\n      //   .catch(_ => {});\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n\n"]}]}