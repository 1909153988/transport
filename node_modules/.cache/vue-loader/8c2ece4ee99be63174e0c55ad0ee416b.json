{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\views\\filemanagement\\driver\\edit\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\views\\filemanagement\\driver\\edit\\index.vue","mtime":1627990491980},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbWFnZVVwbG9hZCBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL0ltYWdlVXBsb2FkL2luZGV4JwppbXBvcnQge3F1ZXJ5RHJpdmVyQnlJZCwgdXBkYXRlRHJpdmVyfSBmcm9tICIuLi8uLi8uLi8uLi9hcGkvY2FwYWNpdHkvZHJpdmVyIgoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGZvcm06ewogICAgICB9LAogICAgICB1cmxzOiBbCiAgICAgICAgJ2h0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS9hLzNmLzMzMDJlNThmOWExODFkMjUwOWYzZGMwZmE2OGIwanBlZy5qcGVnJywKICAgICAgICAnaHR0cHM6Ly9mdXNzMTAuZWxlbWVjZG4uY29tLzEvMzQvMTlhYTk4YjFmY2IyNzgxYzRmYmEzM2Q4NTA1NDlqcGVnLmpwZWcnLAogICAgICAgICdodHRwczovL2Z1c3MxMC5lbGVtZWNkbi5jb20vMC82Zi9lMzVmZjM3NTgxMmU2YjAwMjBiNmI0ZThmOTU4M2pwZWcuanBlZycsCiAgICAgICAgJ2h0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS85L2JiL2UyNzg1OGU5NzNmNWQ3ZDM5MDQ4MzVmNDZhYmJkanBlZy5qcGVnJywKICAgICAgICAnaHR0cHM6Ly9mdXNzMTAuZWxlbWVjZG4uY29tL2QvZTYvYzRkOTNhMzgwNWIzY2UzZjMyM2Y3OTc0ZTZmNzhqcGVnLmpwZWcnLAogICAgICAgICdodHRwczovL2Z1c3MxMC5lbGVtZWNkbi5jb20vMy8yOC9iYmY4OTNmNzkyZjAzYTU0NDA4YjNiN2E3ZWJmMGpwZWcuanBlZycsCiAgICAgICAgJ2h0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS8yLzExLzY1MzViY2ZiMjZlNGM3OWI0OGRkZGU0NGY0YjZmanBlZy5qcGVnJwogICAgICBdLAogICAgICB1cmw6J2h0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS9hLzNmLzMzMDJlNThmOWExODFkMjUwOWYzZGMwZmE2OGIwanBlZy5qcGVnJywKICAgICAgY2FyTGlzdDpbXSwKICAgICAgcGF5ZWVMaXN0OltdLAogICAgICBjaGF1ZmZldXJJZDonJywKICAgICAgcnVsZXM6ewogICAgICAgIC8vIGNvbXBhbnlOYW1lOlsKICAgICAgICAvLyAgIHtyZXF1aXJlZDp0cnVlICwgbWVzc2FnZTon5LiN6IO95Li656m6J30KICAgICAgICAvLyBdCiAgICAgIH0sCgogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY2hhdWZmZXVySWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZAogICAgaWYodGhpcy5jaGF1ZmZldXJJZCl7CiAgICAgIHRoaXMuZ2V0RHJpdmVyQnlJZCh0aGlzLmNoYXVmZmV1cklkKQogICAgfQogIH0sCiAgY29tcG9uZW50czp7CiAgICBJbWFnZVVwbG9hZAogIH0sCiAgbWV0aG9kczp7CiAgICAvL+afpeeci+ivpuaDhQogICAgZ2V0RHJpdmVyQnlJZChpZCl7CiAgICAgIGNvbnNvbGUubG9nKGlkKQogICAgICBxdWVyeURyaXZlckJ5SWQoe2NoYXVmZmV1cklkOmlkfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5mb3JtID0gcmVzLmRhdGE7CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8v57yW6L6RCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKXsKICAgICAgLy8gdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgIC8vICAgaWYgKHZhbGlkKSB7CiAgICAgIC8vICAgICBhbGVydCgnc3VibWl0IScpOwogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0pOwogICAgICBsZXQgZm9ybSA9IHsKICAgICAgICBjaGF1ZmZldXJJZDp0aGlzLmNoYXVmZmV1cklkLAogICAgICAgIG5hbWU6dGhpcy5mb3JtLm5hbWUsCiAgICAgICAgc2V4OnRoaXMuZm9ybS5zZXgsCiAgICAgICAgcGhvbmU6dGhpcy5mb3JtLnBob25lLAogICAgICAgIHF1YWxpZmllZFBlcmlvZDp0aGlzLmZvcm0ucXVhbGlmaWVkUGVyaW9kLAogICAgICAgIHF1YWxpZmllZE51bWJlcjp0aGlzLmZvcm0ucXVhbGlmaWVkTnVtYmVyLAogICAgICAgIGRyaXZpbmdFbmRUaW1lOnRoaXMuZm9ybS5kcml2aW5nRW5kVGltZSwKICAgICAgICB2ZWhpY2xlVHlwZTp0aGlzLmZvcm0udmVoaWNsZVR5cGUsCiAgICAgICAgZm5OdW1iZXI6dGhpcy5mb3JtLmZuTnVtYmVyLAogICAgICAgIGRyaXZpbmdOdW1iZXI6dGhpcy5mb3JtLmRyaXZpbmdOdW1iZXIsCiAgICAgICAgaWRDYXJkUGVyaW9kOnRoaXMuZm9ybS5pZENhcmRQZXJpb2QsCiAgICAgICAgaWRDYXJkT2ZmaWNlOnRoaXMuZm9ybS5pZENhcmRPZmZpY2UsCiAgICAgICAgaWRDYXJkQWRkcmVzczp0aGlzLmZvcm0uaWRDYXJkQWRkcmVzcywKICAgICAgICBpZENhcmROdW1iZXI6dGhpcy5mb3JtLmlkQ2FyZE51bWJlciwKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhmb3JtKQogICAgICB1cGRhdGVEcml2ZXIoZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICBpZihyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi57yW6L6R5oiQ5Yqf77yBIik7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2ZpbGVtYW5hZ2VtZW50L2RyaXZlciIpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGFkZENhcigpewoKICAgIH0sCiAgICBhZGRQYXllZSgpewoKICAgIH0sCiAgICBnZXRJbWcodXJsKSB7CiAgICAgIHRoaXMudXJsID0gdXJsOwogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/filemanagement/driver/edit","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"150px\" inline>\n\n      <div class=\"mb20\">\n         <el-divider content-position=\"left\">身份信息</el-divider>\n        <!-- <el-divider direction=\"vertical\"/> <span class=\"weight\">身份信息</span> -->\n      </div>\n      <el-form-item label=\"姓名\" prop=\"companyName\">\n        <el-input v-model=\"form.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"姓别\" prop=\"companyName\">\n        <el-radio-group v-model=\"form.sex\" style=\"min-width: 240px\">\n          <el-radio :label=\"1\">男</el-radio>\n          <el-radio :label=\"0\">女</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"注册手机号\" prop=\"companyName\">\n        <el-input v-model=\"form.phone\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"身份证号\" prop=\"companyName\">\n        <el-input v-model=\"form.idCardNumber\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"身份地址\" prop=\"companyName\">\n        <el-input v-model=\"form.idCardAddress\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"身份证签发机关\" prop=\"companyName\">\n        <el-input v-model=\"form.idCardOffice\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"身份证有效期\" prop=\"companyName\">\n        <el-input v-model=\"form.idCardPeriod\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"创建人\" prop=\"companyName\">\n        <el-input v-model=\"form.companyName\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"创建时间\" prop=\"companyName\">\n        <el-input v-model=\"form.companyName\"></el-input>\n      </el-form-item>\n\n\n      <div class=\"mb20\">\n         <el-divider content-position=\"left\">驾驶证信息</el-divider>\n        <!-- <el-divider direction=\"vertical\"/> <span class=\"weight\">驾驶证信息</span> -->\n      </div>\n\n      <el-form-item label=\"驾驶证号\" prop=\"companyName\">\n        <el-input v-model=\"form.drivingNumber\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"档案号\" prop=\"companyName\">\n        <el-input v-model=\"form.fnNumber\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"准驾车型\" prop=\"companyName\">\n        <el-input v-model=\"form.vehicleType\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"驾驶证有效期\" prop=\"companyName\">\n<!--        <el-input v-model=\"form.companyName\"></el-input>-->\n        <el-date-picker\n          v-model=\"form.drivingEndTime\"\n          type=\"date\"\n          placeholder=\"选择日期\"\n          value-format=\"yyyy-MM-dd hh:mm:ss\"\n        >\n        </el-date-picker>\n      </el-form-item>\n\n      <div class=\"mb20\">\n        <!-- <el-divider direction=\"vertical\"/> <span class=\"weight\">从业资格证信息</span> -->\n          <el-divider content-position=\"left\">从业资格证信息</el-divider>\n      </div>\n\n      <el-form-item label=\"从业资格证号\" prop=\"companyName\">\n        <el-input v-model=\"form.qualifiedNumber\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"从业资格证有效期\" prop=\"companyName\">\n        <el-date-picker\n          v-model=\"form.qualifiedPeriod\"\n          type=\"date\"\n          placeholder=\"选择日期\"\n          value-format=\"yyyy-MM-dd hh:mm:ss\"\n        >\n        </el-date-picker>\n      </el-form-item>\n\n      <div class=\"mb20\">\n        <!-- <el-divider direction=\"vertical\"/> <span class=\"weight\">证件照片列表</span> -->\n         <el-divider content-position=\"left\">证件照片列表</el-divider>\n      </div>\n\n      <div class=\"mb20 flex justify-center\">\n        <div class=\"imgBox\">\n          <el-image class=\"imgs\" v-for=\"url in urls\" :key=\"url\" :src=\"url\" lazy @click=\"getImg(url)\"></el-image>\n        </div>\n        <div class=\"ml20 showBox flex justify-center\">\n          <el-image fit=\"contain\" :src=\"url\"></el-image>\n        </div>\n      </div>\n\n\n      <div>\n        <el-form-item label=\" \">\n          <el-button type=\"primary\" plain @click=\"submitForm\">提交</el-button>\n           <el-button >取消</el-button>\n        </el-form-item>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport ImageUpload from '../../../../components/ImageUpload/index'\nimport {queryDriverById, updateDriver} from \"../../../../api/capacity/driver\"\n\nexport default {\n  data(){\n    return {\n      form:{\n      },\n      urls: [\n        'https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg',\n        'https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg',\n        'https://fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg',\n        'https://fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg',\n        'https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg',\n        'https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg',\n        'https://fuss10.elemecdn.com/2/11/6535bcfb26e4c79b48ddde44f4b6fjpeg.jpeg'\n      ],\n      url:'https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg',\n      carList:[],\n      payeeList:[],\n      chauffeurId:'',\n      rules:{\n        // companyName:[\n        //   {required:true , message:'不能为空'}\n        // ]\n      },\n\n    }\n  },\n  created() {\n    this.chauffeurId = this.$route.query.id\n    if(this.chauffeurId){\n      this.getDriverById(this.chauffeurId)\n    }\n  },\n  components:{\n    ImageUpload\n  },\n  methods:{\n    //查看详情\n    getDriverById(id){\n      console.log(id)\n      queryDriverById({chauffeurId:id}).then(res => {\n        if(res.code == 200) {\n          this.form = res.data;\n        }\n      })\n    },\n    //编辑\n    submitForm(formName){\n      // this.$refs[formName].validate((valid) => {\n      //   if (valid) {\n      //     alert('submit!');\n      //   } else {\n      //     console.log('error submit!!');\n      //     return false;\n      //   }\n      // });\n      let form = {\n        chauffeurId:this.chauffeurId,\n        name:this.form.name,\n        sex:this.form.sex,\n        phone:this.form.phone,\n        qualifiedPeriod:this.form.qualifiedPeriod,\n        qualifiedNumber:this.form.qualifiedNumber,\n        drivingEndTime:this.form.drivingEndTime,\n        vehicleType:this.form.vehicleType,\n        fnNumber:this.form.fnNumber,\n        drivingNumber:this.form.drivingNumber,\n        idCardPeriod:this.form.idCardPeriod,\n        idCardOffice:this.form.idCardOffice,\n        idCardAddress:this.form.idCardAddress,\n        idCardNumber:this.form.idCardNumber,\n      }\n      console.log(form)\n      updateDriver(form).then(res => {\n        console.log(res)\n        if(res.code == 200) {\n          this.msgSuccess(\"编辑成功！\");\n          this.$router.push(\"/filemanagement/driver\")\n        }\n      })\n    },\n    addCar(){\n\n    },\n    addPayee(){\n\n    },\n    getImg(url) {\n      this.url = url;\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.el-divider--vertical {\n  width: 5px;\n  height: 1.5em;\n  background-color: #1890ff;\n}\n\n.imgBox {\n  width: 220px;\n  height: 400px;\n  overflow: auto;\n}\n\n.showBox {\n  height: 400px;\n  min-width: 600px;\n  width: 60%;\n\n}\n\n/*.showBox .el-image__inner {*/\n/*  width: auto;*/\n/*  height: 360px;*/\n/*}*/\n\n\n.imgs {\n  width: 200px;\n}\n</style>\n"]}]}