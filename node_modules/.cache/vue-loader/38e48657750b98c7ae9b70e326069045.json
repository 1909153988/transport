{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\views\\filemanagement\\payee\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\views\\filemanagement\\payee\\index.vue","mtime":1627990492001},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgewogIHF1ZXJ5UGF5ZWVzLAogIGltcG9ydENsaWVudFBheWVlLAogIGV4cG9ydENsaWVudFBheWVlLAogIGRlbGV0ZVBheWVlLAogIHNhdmVDbGllbnRQYXllZSwKICB1cGRhdGVQYXllZSwKICBxdWVyeVBheWVlQnlJZAp9IGZyb20gIi4uLy4uLy4uL2FwaS9jYXBhY2l0eS9wYXllZSIKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9QYWdpbmF0aW9uL2luZGV4IgppbXBvcnQgRmlsZVVwbG9hZCBmcm9tICIuLi8uLi8uLi9jb21wb25lbnRzL0ZpbGVVcGxvYWQvaW5kZXgiCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy/mmK/lkKbmmL7npLrlvLnlh7rmoYYKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRvdGFsOjAsCiAgICAgIGltcG9ydFBheWVlVXJsOiAnL3RyYW5zcG9ydC9jbGllbnRQYXllZU1hbmFnZS9pbXBvcnRDbGllbnRQYXllZScsCiAgICAgIHRleHQ6J+WvvOWFpeaUtuasvuS6uicsCiAgICAgIHRpbWU6IFtdLAogICAgICBmb3JtOiB7fSwKICAgICAgaWQ6JycKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRNYXBMaXN0KCkKICB9LAogIGNvbXBvbmVudHM6ewogICAgUGFnaW5hdGlvbiwKICAgIEZpbGVVcGxvYWQKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5p+l6K+iCiAgICBnZXRNYXBMaXN0KCl7CiAgICAgIHF1ZXJ5UGF5ZWVzKCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICBpZihyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5p+l6K+i5oiQ5Yqf77yBIikKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLnJvd3M7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8v5Yig6ZmkCiAgICByZW1vdmUoaWQpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm5Yig6ZmkID8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CgogICAgICAgIGRlbGV0ZVBheWVlKHtwYXllZUlkOmlkfSkudGhlbihyZXMgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgICAgaWYocmVzLmNvZGUgPT0gMjAwKSB7CgogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKCiAgICB9LAogICAgLy/lr7zlhaUKICAgIGltcG9ydENsaWVudFBheWVlKCl7CiAgICAgIGltcG9ydENsaWVudFBheWVlKCkudGhlbihyZXMgPT4gewoKICAgICAgfSkKICAgIH0sCiAgICAvL+WvvOWHugogICAgZXhwb3J0Q2xpZW50UGF5ZWUoKXsKICAgICAgbGV0IHBhcmFtcyA9IHt9OwogICAgICAvLyBleHBvcnREcml2ZXIoKS50aGVuKHJlcyA9PiB7CiAgICAgIC8vICAgY29uc29sZS5sb2cocmVzKQogICAgICAvLyB9KQogICAgICB0aGlzLmRvd25sb2FkKCcvdHJhbnNwb3J0L2NsaWVudFBheWVlTWFuYWdlL2V4cG9ydENsaWVudFBheWVlJywgewogICAgICAgIC4uLnRoaXMucXVlcnlQYXJhbXMKICAgICAgfSwgYHBheWVlXyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9Lnhsc3hgKQoKICAgICAgdGhpcy5tc2dTdWNjZXNzKCLlr7zlh7rmiJDlip/vvIEiKQogICAgfSwKCgogICAgZ29BZGQoKSB7CiAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKCIvZmlsZW1hbmFnZW1lbnQvYWRkcGF5ZWUiKTsKICAgICAgdGhpcy50aXRsZSA9ICLmt7vliqDmlLbmrL7kurrvvIjor7fli7/ovpPlhaXkv6HnlKjljaHljaHlj7flj4rlr7nlhazotKbmiLfvvIkiOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGdvRWRpdCgpIHsKICAgICAgIHRoaXMudGl0bGUgPSAi57yW6L6R5pS25qy+5Lq677yI6K+35Yu/6L6T5YWl5L+h55So5Y2h5Y2h5Y+35Y+K5a+55YWs6LSm5oi377yJIjsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goIi9maWxlbWFuYWdlbWVudC9lZGl0cGF5ZWUiKTsKICAgIH0sCiAgICBnZXRJbmZvKGlkKXsKICAgICAgcXVlcnlQYXllZUJ5SWQoe3BheWVlSWQ6aWR9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLmZvcm0gPSByZXMuZGF0YQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBhZGQoKXsKICAgICAgc2F2ZUNsaWVudFBheWVlKHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgIGlmKHJlcy5jb2RlID09IDIwMCl7CiAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MocmVzLm1zZykKICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBlZGl0KCl7CiAgICAgIHVwZGF0ZVBheWVlKHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgIGlmKHJlcy5jb2RlID09IDIwMCl7CiAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MocmVzLm1zZykKICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKXsKCiAgICAgIGlmKHRoaXMuaWQpIHsKICAgICAgICB0aGlzLmVkaXQodGhpcy5mb3JtKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWRkKHRoaXMuZm9ybSkKICAgICAgfQoKICAgICAgLy8gdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgIC8vICAgaWYgKHZhbGlkKSB7CiAgICAgIC8vICAgICBhbGVydCgnc3VibWl0IScpOwogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0pOwogICAgfQogIH0sCgp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/filemanagement/payee","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"mb20 flex justify-end\">\n      <el-row :gutter=\"20\">\n        <el-col>\n          <el-form-item label=\"船东姓名\"> <el-input></el-input> </el-form-item\n        ></el-col>\n      </el-row>\n      <el-input\n        class=\"search mr5\"\n        size=\"small\"\n        placeholder=\"请输入收款人姓名\"\n      ></el-input>\n      <el-input\n        class=\"search mr5\"\n        size=\"small\"\n        placeholder=\"请输入银行卡卡号\"\n      ></el-input>\n      <el-button size=\"small\" type=\"primary\" plain>查询</el-button>\n      <el-button size=\"small\" type=\"primary\" plain>清空</el-button>\n    </div>\n\n    <div class=\"mb20 flex\">\n      <el-button size=\"small\" type=\"primary\" plain @click=\"goAdd()\"\n        >添加收款人</el-button\n      >\n      <el-button size=\"small\" type=\"warning\" plain @click=\"goEdit\"\n        >编辑</el-button\n      >\n      <el-button size=\"small\" type=\"danger\" class=\"mr10\" plain>删除</el-button>\n<!--      <el-button size=\"small\" type=\"warning\" plain>导入收款人</el-button>-->\n      <FileUpload :url = \"importDriverUrl\" :text=\"text\" :isShowTip=\"false\"></FileUpload>\n      <el-button size=\"small\" type=\"primary\" @click=\"exportClientPayee\" plain>导出</el-button>\n    </div>\n\n    <el-table :data=\"tableData\" style=\"width: 100%\">\n      <el-table-column type=\"selection\"></el-table-column>\n      <el-table-column prop=\"payeeId\" label=\"序号\"></el-table-column>\n      <el-table-column prop=\"kaihuName\" label=\"收款人姓名\"></el-table-column>\n      <el-table-column prop=\"idCardNumber\" label=\"身份证号\"></el-table-column>\n      <el-table-column prop=\"payeePhone\" label=\"收款人电话\"></el-table-column>\n      <el-table-column prop=\"accountBank\" label=\"银行卡号\"></el-table-column>\n      <el-table-column prop=\"kaihuBank\" label=\"开户银行\"></el-table-column>\n      <el-table-column prop=\"createBy\" label=\"创建人\"></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\"></el-table-column>\n      <el-table-column prop=\"updateTime\" label=\"更新时间\"></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"操作\" fixed=\"right\" width=\"200\">\n        <template slot-scope=\"data\">\n          <span class=\"operate mr10\" @click=\"remove(data.row.payeeId)\">编辑</span>\n          <span class=\"operate mr10\" @click=\"remove(data.row.payeeId)\">删除</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <Pagination :total=\"total\"></Pagination>\n\n    <!-- 添加编辑收款人 -->\n    <el-dialog\n      :title=\"title\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\"\n      :before-close=\"handleClose\"\n    >\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"150px\">\n      <!-- <div class=\"mb20\">\n        <el-divider direction=\"vertical\"/> <span class=\"weight\">添加收款人（请勿输入信用卡卡号及对公账户）</span>\n         <el-divider content-position=\"left\">添加收款人（请勿输入信用卡卡号及对公账户）</el-divider>\n      </div> -->\n      <el-form-item label=\"开户人姓名\" prop=\"companyName\">\n        <el-input v-model=\"form.kaihuName\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"银行卡号\" required>\n        <el-input v-model=\"form.accountBank\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"身份证号\" required>\n        <el-input v-model=\"form.idCardNumber\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"开户银行\" required>\n        <el-input v-model=\"form.kaihuBank\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"收款人电话\" >\n        <el-input v-model=\"form.payeePhone\"></el-input>\n      </el-form-item>\n      <div>\n        <el-form-item label=\" \">\n          <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\n        </el-form-item>\n      </div>\n    </el-form>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\n\nimport {\n  queryPayees,\n  importClientPayee,\n  exportClientPayee,\n  deletePayee,\n  saveClientPayee,\n  updatePayee,\n  queryPayeeById\n} from \"../../../api/capacity/payee\"\nimport Pagination from \"../../../components/Pagination/index\"\nimport FileUpload from \"../../../components/FileUpload/index\"\n\nexport default {\n  data() {\n    return {\n     // 弹出层标题\n      title: \"\",\n      //是否显示弹出框\n      dialogVisible: false,\n      tableData: [],\n      total:0,\n      importPayeeUrl: '/transport/clientPayeeManage/importClientPayee',\n      text:'导入收款人',\n      time: [],\n      form: {},\n      id:''\n    };\n  },\n  created() {\n    this.getMapList()\n  },\n  components:{\n    Pagination,\n    FileUpload\n  },\n  methods: {\n    //查询\n    getMapList(){\n      queryPayees().then(res => {\n        console.log(res)\n        if(res.code == 200) {\n          this.msgSuccess(\"查询成功！\")\n          this.tableData = res.rows;\n          this.total = res.total\n        }\n      })\n    },\n    //删除\n    remove(id) {\n      this.$confirm('是否删除 ?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n\n        deletePayee({payeeId:id}).then(res => {\n          // console.log(res)\n          if(res.code == 200) {\n\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n          }\n        })\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n\n    },\n    //导入\n    importClientPayee(){\n      importClientPayee().then(res => {\n\n      })\n    },\n    //导出\n    exportClientPayee(){\n      let params = {};\n      // exportDriver().then(res => {\n      //   console.log(res)\n      // })\n      this.download('/transport/clientPayeeManage/exportClientPayee', {\n        ...this.queryParams\n      }, `payee_${new Date().getTime()}.xlsx`)\n\n      this.msgSuccess(\"导出成功！\")\n    },\n\n\n    goAdd() {\n      // this.$router.push(\"/filemanagement/addpayee\");\n      this.title = \"添加收款人（请勿输入信用卡卡号及对公账户）\";\n      this.dialogVisible = true;\n    },\n    goEdit() {\n       this.title = \"编辑收款人（请勿输入信用卡卡号及对公账户）\";\n      this.dialogVisible = true;\n      // this.$router.push(\"/filemanagement/editpayee\");\n    },\n    getInfo(id){\n      queryPayeeById({payeeId:id}).then(res => {\n        if(res.code == 200) {\n          this.msgSuccess(res.msg);\n          this.form = res.data\n        }\n      })\n    },\n    add(){\n      saveClientPayee(this.form).then(res => {\n        if(res.code == 200){\n          this.msgSuccess(res.msg)\n          this.dialogVisible = false;\n        }\n      })\n    },\n    edit(){\n      updatePayee(this.form).then(res => {\n        if(res.code == 200){\n          this.msgSuccess(res.msg)\n          this.dialogVisible = false;\n        }\n      })\n    },\n    submitForm(formName){\n\n      if(this.id) {\n        this.edit(this.form)\n      } else {\n        this.add(this.form)\n      }\n\n      // this.$refs[formName].validate((valid) => {\n      //   if (valid) {\n      //     alert('submit!');\n      //   } else {\n      //     console.log('error submit!!');\n      //     return false;\n      //   }\n      // });\n    }\n  },\n\n};\n</script>\n\n<style scoped>\n</style>\n\n"]}]}