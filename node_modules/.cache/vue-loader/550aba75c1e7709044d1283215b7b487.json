{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\views\\client\\rebateRecord\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\views\\client\\rebateRecord\\index.vue","mtime":1627990487472},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZXhwb3J0UmViYXRlUmVjb3JkLCBsaXN0UmViYXRlUmVjb3JkLCByZWJhdGVBY2NvdW50TGlzdH0gZnJvbSAiQC9hcGkvY2xpZW50L3JlYmF0ZVJlY29yZCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlYmF0ZVJlY29yZCIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICBzaG9ydGN1dHM6IFt7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5ZGoJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogNyk7CiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+acgOi/keS4gOS4quaciCcsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKTsKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiJ5Liq5pyIJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogOTApOwogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHN0YXJ0RW5kVGltZTogJycsCgoKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOi/lOWIqeWPkeaUvuiusOW9leihqOagvOaVsOaNrgogICAgICByZWJhdGVSZWNvcmRMaXN0OiBbXSwKCiAgICAgIC8v6L+U5Yip6LSm5oi3CiAgICAgIHJlYmF0ZUFjY291bnRMaXN0OiBbXSwKCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgdXNlcklkOiBudWxsLAogICAgICAgIHR5cGU6IG51bGwsCiAgICAgICAgc2NlbmU6IG51bGwsCiAgICAgICAgYmVnaW5UaW1lQ2hhcjogJycsCiAgICAgICAgZW5kVGltZUNoYXI6ICcnCgogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczoge30KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiog5p+l6K+i6L+U5Yip5Y+R5pS+6K6w5b2V5YiX6KGoICovCiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICByZWJhdGVBY2NvdW50TGlzdCgpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZSAhPSBudWxsICYmIHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5yZWJhdGVBY2NvdW50TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKCiAgICB9LAoKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBudW1iZXI6IG51bGwsCiAgICAgICAgdXNlcklkOiBudWxsLAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOwogICAgICBjb25zdCBzdGFydEVuZFRpbWUgPSB0aGlzLnN0YXJ0RW5kVGltZSArICcnOwoKICAgICAgaWYgKHN0YXJ0RW5kVGltZSAhPSBudWxsICYmIHN0YXJ0RW5kVGltZSAhPSAnbnVsbCcgJiYgc3RhcnRFbmRUaW1lICE9ICcnICYmIHN0YXJ0RW5kVGltZS5sZW5ndGggPiAwKSB7CiAgICAgICAgY29uc3Qgc3RhcnRFbmRUaW1lQ2hhciA9IHN0YXJ0RW5kVGltZS5zcGxpdCgnLCcpWzBdOwogICAgICAgIGNvbnN0IGVuZFRpbWVDaGFyID0gc3RhcnRFbmRUaW1lLnNwbGl0KCcsJylbMV07CgogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuYmVnaW5UaW1lQ2hhciA9IHN0YXJ0RW5kVGltZUNoYXI7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcy5lbmRUaW1lQ2hhciA9IGVuZFRpbWVDaGFyOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuYmVnaW5UaW1lQ2hhciA9ICcnOwogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuZW5kVGltZUNoYXIgPSAnJzsKICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3RBY2NvdW50RGV0YWlscyh0aGlzLnF1ZXJ5UGFyYW1zLnVzZXJJZCk7CiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAoKCiAgICAvKiog5p+l6K+i6LSm5oi35piO57uGICovCiAgICBzZWxlY3RBY2NvdW50RGV0YWlscyh1c2VySWQpIHsKICAgICAgdGhpcy5yZXNldCgpOwoKICAgICAgaWYgKHVzZXJJZCA9PSB1bmRlZmluZWQgfHwgdXNlcklkID09IG51bGwgfHwgdXNlcklkID09ICcnKSB7CiAgICAgICAgdXNlcklkID0gdGhpcy5xdWVyeVBhcmFtcy51c2VySWQ7CiAgICAgIH0KCgogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIui/lOWIqeWPkeaUvuaYjue7hiI7CgogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnVzZXJJZCA9IHVzZXJJZDsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICBsaXN0UmViYXRlUmVjb3JkKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICB0aGlzLnJlYmF0ZVJlY29yZExpc3QgPSBbXTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnJlYmF0ZVJlY29yZExpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwoKICAgICAgICB9CiAgICAgIH0pOwoKICAgIH0sCgoKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUV4cG9ydCgpIHsKICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB0aGlzLnF1ZXJ5UGFyYW1zOwoKICAgICAgdGhpcy5kb3dubG9hZCgnL2NsaWVudC9jbGllbnRSZWJhdGVSZWNvcmQvZXhwb3J0JywgewogICAgICAgIC4uLnRoaXMucXVlcnlQYXJhbXMKICAgICAgfSwgYGRldGFpbHNfJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX0ueGxzeGApCgogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/client/rebateRecord","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n\n    <el-row :gutter=\"30\" v-for=\"(item, index) in rebateAccountList\" :key=\"index\"\n            style=\"padding-bottom:10px;border-bottom: #1890ff 1px solid; margin-bottom: 20px; margin-top: 20px;\">\n\n\n      <el-col :span=\"4\">\n        <el-card shadow=\"always\"\n                 style=\"text-align: center; height: 120px; border: none; line-height: 30px; background-color: rgba(122,109,240,0.44)\">\n          <span style=\"width: 100%; float: left; color:white\"><b>可用余额：</b></span>\n\n          <el-popover\n            placement=\"right\"\n            width=\"200\"\n            trigger=\"hover\">\n\n            <p style=\"color: blue\">返利可用余额：{{item.money}}元</p>\n\n            <el-button style=\"border: none; box-shadow:none\" slot=\"reference\" type=\"text\" round>\n              <b>{{item.money}}元</b>\n            </el-button>\n          </el-popover>\n\n\n        </el-card>\n      </el-col>\n      <el-col :span=\"4\">\n        <el-card shadow=\"always\"\n                 style=\"text-align: center; height: 120px; border: none; line-height: 30px; background-color: rgba(0,175,255,0.35)\">\n          <span style=\"width: 100%; float: left\">累计使用金额：</span>\n          <span style=\"width: 100%; float: left\"><b>{{item.sumDeductionMoney}}元 ({{item.countDeduction}}笔)</b></span>\n        </el-card>\n      </el-col>\n\n      <el-col :span=\"4\">\n        <el-card shadow=\"always\"\n                 style=\"text-align: center; height: 120px; border: none; line-height: 30px; background-color: rgba(57,255,85,0.23)\">\n          <span style=\"width: 100%; float: left\">返利黑名单：</span>\n\n\n          <el-popover\n            placement=\"right\"\n            width=\"200\"\n            trigger=\"hover\">\n\n            <p style=\"color: gray\">黑名单内暂不能接受返利</p>\n            <el-button style=\"border: none; box-shadow:none\" slot=\"reference\" type=\"text\" round>\n              <b v-if=\"item.sceneBlacklist==1\" style=\"color: red\">是</b> <b style=\"color: green\"\n                                                                           v-else-if=\"item.sceneBlacklist==0\">否</b>\n            </el-button>\n          </el-popover>\n        </el-card>\n      </el-col>\n\n      <el-col :span=\"4\">\n        <el-card shadow=\"always\"\n                 style=\"text-align: center; height: 120px; border: none; line-height: 30px; background-color: rgba(255,255,216,0.67)\">\n          <span style=\"width: 100%; float: left; color: #888a8e\">企业名称：</span>\n          <span style=\"width: 100%; float: left; color: blue\"><b>{{item.shipperFullName}}</b></span>\n        </el-card>\n      </el-col>\n\n\n      <el-col :span=\"5\" style=\"margin-top: 40px; text-align: right\">\n\n\n        <el-button type=\"info\" round @click=\"selectAccountDetails(item.userId)\">查看发放明细</el-button>\n\n      </el-col>\n    </el-row>\n\n\n    <!-- 添加或修改返利发放记录对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"80%\" append-to-body>\n\n      <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n\n\n        <el-form-item label=\"返利类型\" prop=\"type\">\n          <el-select v-model=\"queryParams.type\" placeholder=\"返利类型\" clearable size=\"small\">\n            <el-option label=\"满减券\" value=\"0\"/>\n            <el-option label=\"抵扣券\" value=\"1\"/>\n            <el-option label=\"抵扣券\" value=\"2\"/>\n          </el-select>\n        </el-form-item>\n\n\n        <el-form-item label=\"使用场景\" prop=\"scene\">\n          <el-select v-model=\"queryParams.scene\" placeholder=\"使用场景\" clearable size=\"small\">\n            <el-option label=\"服务费返利\" value=\"0\"/>\n            <el-option label=\"抵扣服务费\" value=\"1\"/>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"状态\" prop=\"status\">\n          <el-select v-model=\"queryParams.status\" placeholder=\"状态\" clearable size=\"small\">\n            <el-option label=\"已领用\" value=\"0\"/>\n            <el-option label=\"已使用\" value=\"1\"/>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"发放时间\" prop=\"startEndTime\">\n\n        <el-date-picker\n          v-model.trim=\"startEndTime\"\n          type=\"daterange\"\n          align=\"right\"\n          unlink-panels\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          format=\"yyyy 年 MM 月 dd 日\"\n          value-format=\"yyyy-MM-dd\"\n          :picker-options=\"pickerOptions\">\n        </el-date-picker>\n        </el-form-item>\n\n\n        <el-form-item>\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n        </el-form-item>\n      </el-form>\n\n      <el-row :gutter=\"10\" class=\"mb8\">\n\n\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"warning\"\n            plain\n            icon=\"el-icon-download\"\n            size=\"mini\"\n            @click=\"handleExport\"\n            v-hasPermi=\"['consign:clientRebateRecord:export']\"\n          >导出\n          </el-button>\n        </el-col>\n        <!--        <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>-->\n      </el-row>\n\n      <el-table v-loading=\"loading\" :data=\"rebateRecordList\" style=\"height: 500px;\">\n        <el-table-column label=\"返利编号\" align=\"center\" prop=\"number\"/>\n        <!--        <el-table-column label=\"托运人ID\" align=\"center\" prop=\"userId\"/>-->\n        <el-table-column label=\"券金额\" align=\"center\" prop=\"deductionMoney\"/>\n        <el-table-column label=\"返利类型\" align=\"center\" prop=\"type\"/>\n        <el-table-column label=\"使用场景\" align=\"center\" prop=\"scene\"/>\n        <el-table-column label=\"开始时间\" align=\"center\" prop=\"startTime\" width=\"180\"/>\n        <el-table-column label=\"过期时间\" align=\"center\" prop=\"endTime\" width=\"180\"/>\n        <el-table-column label=\"发放时间\" align=\"center\" prop=\"createTime\" width=\"180\"/>\n\n        <el-table-column label=\"状态\" align=\"center\" prop=\"status\"/>\n        <el-table-column label=\"说明\" align=\"center\" prop=\"remark\"/>\n        <!--        <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">-->\n        <!--          <template slot-scope=\"scope\">-->\n        <!--            -->\n        <!--            <el-button-->\n        <!--              size=\"mini\"-->\n        <!--              type=\"text\"-->\n        <!--              icon=\"el-icon-delete\"-->\n        <!--              @click=\"handleDelete(scope.row)\"-->\n        <!--              v-hasPermi=\"['consign:rebateRecord:remove']\"-->\n        <!--            >删除-->\n        <!--            </el-button>-->\n        <!--          </template>-->\n        <!--        </el-table-column>-->\n      </el-table>\n\n      <pagination\n        v-show=\"total>0\"\n        :total=\"total\"\n        :page.sync=\"queryParams.pageNum\"\n        :limit.sync=\"queryParams.pageSize\"\n        @pagination=\"selectAccountDetails(null)\"\n      />\n\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {exportRebateRecord, listRebateRecord, rebateAccountList} from \"@/api/client/rebateRecord\";\n\n  export default {\n    name: \"RebateRecord\",\n    components: {},\n    data() {\n      return {\n        pickerOptions: {\n          shortcuts: [{\n            text: '最近一周',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近一个月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近三个月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit('pick', [start, end]);\n            }\n          }]\n        },\n        startEndTime: '',\n\n\n        // 遮罩层\n        loading: true,\n        // 选中数组\n        ids: [],\n        // 非单个禁用\n        single: true,\n        // 非多个禁用\n        multiple: true,\n        // 显示搜索条件\n        showSearch: true,\n        // 总条数\n        total: 0,\n        // 返利发放记录表格数据\n        rebateRecordList: [],\n\n        //返利账户\n        rebateAccountList: [],\n\n        // 弹出层标题\n        title: \"\",\n        // 是否显示弹出层\n        open: false,\n        // 查询参数\n        queryParams: {\n          pageNum: 1,\n          pageSize: 10,\n          userId: null,\n          type: null,\n          scene: null,\n          beginTimeChar: '',\n          endTimeChar: ''\n\n        },\n        // 表单参数\n        form: {},\n        // 表单校验\n        rules: {}\n      };\n    },\n    created() {\n      this.getList();\n    },\n    methods: {\n      /** 查询返利发放记录列表 */\n      getList() {\n        this.loading = true;\n        rebateAccountList().then(response => {\n          if (response != null && response.code === 200) {\n            this.rebateAccountList = response.data;\n          }\n          this.loading = false;\n        });\n\n      },\n\n      // 取消按钮\n      cancel() {\n        this.open = false;\n        this.reset();\n      },\n      // 表单重置\n      reset() {\n        this.form = {\n          number: null,\n          userId: null,\n        };\n        this.resetForm(\"form\");\n      },\n      /** 搜索按钮操作 */\n      handleQuery() {\n        this.queryParams.pageNum = 1;\n        const startEndTime = this.startEndTime + '';\n\n        if (startEndTime != null && startEndTime != 'null' && startEndTime != '' && startEndTime.length > 0) {\n          const startEndTimeChar = startEndTime.split(',')[0];\n          const endTimeChar = startEndTime.split(',')[1];\n\n          this.queryParams.beginTimeChar = startEndTimeChar;\n          this.queryParams.endTimeChar = endTimeChar;\n        } else {\n          this.queryParams.beginTimeChar = '';\n          this.queryParams.endTimeChar = '';\n        }\n\n        this.selectAccountDetails(this.queryParams.userId);\n      },\n      /** 重置按钮操作 */\n      resetQuery() {\n        this.resetForm(\"queryForm\");\n        this.handleQuery();\n      },\n\n\n      /** 查询账户明细 */\n      selectAccountDetails(userId) {\n        this.reset();\n\n        if (userId == undefined || userId == null || userId == '') {\n          userId = this.queryParams.userId;\n        }\n\n\n        this.open = true;\n        this.title = \"返利发放明细\";\n\n        this.queryParams.userId = userId;\n\n        this.loading = true;\n\n        listRebateRecord(this.queryParams).then(response => {\n\n          this.rebateRecordList = [];\n          this.loading = false;\n          if (response.code === 200) {\n            this.rebateRecordList = response.rows;\n            this.total = response.total;\n\n          }\n        });\n\n      },\n\n\n      /** 导出按钮操作 */\n      handleExport() {\n        const queryParams = this.queryParams;\n\n        this.download('/client/clientRebateRecord/export', {\n          ...this.queryParams\n        }, `details_${new Date().getTime()}.xlsx`)\n\n      }\n    }\n  };\n</script>\n"]}]}