{"remainingRequest":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\项目\\jusheng1\\src\\components\\NowDate\\NowDate.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\项目\\jusheng1\\src\\components\\NowDate\\NowDate.vue","mtime":1627990493497},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\项目\\jusheng1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\项目\\jusheng1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2xvY2tEYXRhIiwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGR1cmF0aW9uOiA2NTAsCiAgICAgIG5vd1RpbWVzOiBbXSwKICAgICAgbmV4dFRpbWVzOiBbXSwKICAgICAgdGltZXI6IHt9LAogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdERhdGUoKTsKICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIHRoaXMudXBkYXRlVGltZSgpOwogICAgfSwgMTAwMCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXREYXRlKCkgewogICAgICBsZXQgbm93ID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5ub3dUaW1lcyA9IHRoaXMuZ2V0VGltZUZyb21EYXRlKG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgLSAxMDAwKSk7CiAgICAgIHRoaXMubmV4dFRpbWVzID0gdGhpcy5nZXRUaW1lRnJvbURhdGUobm93KTsKICAgIH0sCiAgICB1cGRhdGVUaW1lKCkgewogICAgICBsZXQgbm93ID0gbmV3IERhdGUoKTsKICAgICAgbGV0IG5vd1RpbWVzID0gdGhpcy5nZXRUaW1lRnJvbURhdGUobmV3IERhdGUobm93LmdldFRpbWUoKSAtIDEwMDApKTsKICAgICAgbGV0IG5leHRUaW1lcyA9IHRoaXMuZ2V0VGltZUZyb21EYXRlKG5vdyk7OwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICAgIGlmIChub3dUaW1lc1tpXSAhPT0gbmV4dFRpbWVzW2ldKSB7CiAgICAgICAgICB0aGlzLnNldFNwaW4oaSwgbm93VGltZXNbaV0sIG5leHRUaW1lc1tpXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2V0U3BpbihpbmRleCwgbm93VGltZSwgbmV4dFRpbWUpIHsKICAgICAgbGV0IG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmZsaXAiKTsKICAgICAgbm9kZXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ3J1bm5pbmcnKTsKICAgICAgdGhpcy5ub3dUaW1lcy5zcGxpY2UoaW5kZXgsIDEsIG5vd1RpbWUpOwogICAgICB0aGlzLm5leHRUaW1lcy5zcGxpY2UoaW5kZXgsIDEsIG5leHRUaW1lKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgbm9kZXNbaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ3J1bm5pbmcnKTsKICAgICAgICB0aGlzLm5vd1RpbWVzLnNwbGljZShpbmRleCwgMSwgbmV4dFRpbWUpOwogICAgICB9LCB0aGlzLmR1cmF0aW9uKQogICAgfSwKICAgIGdldFRpbWVGcm9tRGF0ZShkYXRlKSB7CiAgICAgIGxldCBudW1UaW1lID0gW107CiAgICAgIGxldCB0aW1lU3RyID0gZGF0ZQogICAgICAgIC50b1RpbWVTdHJpbmcoKQogICAgICAgIC5zbGljZSgwLCA4KQogICAgICAgIC5zcGxpdCgiOiIpCiAgICAgICAgLmpvaW4oIiIpOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRpbWVTdHIubGVuZ3RoOyBpKyspIHsKICAgICAgICBudW1UaW1lLnB1c2gocGFyc2VJbnQodGltZVN0cltpXSkpOwogICAgICB9CiAgICAgIHJldHVybiBudW1UaW1lOwogICAgfQogIH0sCiAgZGVzdHJveWVkKCkgewogICAgLy8g6ZSA5q+B5a6a5pe25ZmoCiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogIH0KfQo="},{"version":3,"sources":["NowDate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NowDate.vue","sourceRoot":"src/components/NowDate","sourcesContent":["<template>\n  <div class=\"clock\">\n    <div class=\"flip\">\n      <div class=\"digital front\" :data-number=\"nextTimes[0]\"></div>\n      <div class=\"digital back\" :data-number=\"nowTimes[0]\"></div>\n    </div>\n    <div class=\"flip\">\n      <div class=\"digital front\" :data-number=\"nextTimes[1]\"></div>\n      <div class=\"digital back\" :data-number=\"nowTimes[1]\"></div>\n    </div>\n    <em class=\"divider\">:</em>\n    <div class=\"flip\">\n      <div class=\"digital front\" :data-number=\"nextTimes[2]\"></div>\n      <div class=\"digital back\" :data-number=\"nowTimes[2]\"></div>\n    </div>\n    <div class=\"flip\">\n      <div class=\"digital front\" :data-number=\"nextTimes[3]\"></div>\n      <div class=\"digital back\" :data-number=\"nowTimes[3]\"></div>\n    </div>\n    <em class=\"divider\">:</em>\n    <div class=\"flip\">\n      <div class=\"digital front\" :data-number=\"nextTimes[4]\"></div>\n      <div class=\"digital back\" :data-number=\"nowTimes[4]\"></div>\n    </div>\n    <div class=\"flip\">\n      <div class=\"digital front\" :data-number=\"nextTimes[5]\"></div>\n      <div class=\"digital back\" :data-number=\"nowTimes[5]\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ClockData\",\n  data () {\n    return {\n      duration: 650,\n      nowTimes: [],\n      nextTimes: [],\n      timer: {},\n    }\n  },\n  mounted() {\n    this.initDate();\n    this.timer = setInterval(() => {\n      this.updateTime();\n    }, 1000)\n  },\n  methods: {\n    initDate() {\n      let now = new Date();\n      this.nowTimes = this.getTimeFromDate(new Date(now.getTime() - 1000));\n      this.nextTimes = this.getTimeFromDate(now);\n    },\n    updateTime() {\n      let now = new Date();\n      let nowTimes = this.getTimeFromDate(new Date(now.getTime() - 1000));\n      let nextTimes = this.getTimeFromDate(now);;\n      for (let i = 0; i < 6; i++) {\n        if (nowTimes[i] !== nextTimes[i]) {\n          this.setSpin(i, nowTimes[i], nextTimes[i]);\n        }\n      }\n    },\n    setSpin(index, nowTime, nextTime) {\n      let nodes = document.querySelectorAll(\".flip\");\n      nodes[index].classList.add('running');\n      this.nowTimes.splice(index, 1, nowTime);\n      this.nextTimes.splice(index, 1, nextTime);\n      setTimeout(() => {\n        nodes[index].classList.remove('running');\n        this.nowTimes.splice(index, 1, nextTime);\n      }, this.duration)\n    },\n    getTimeFromDate(date) {\n      let numTime = [];\n      let timeStr = date\n        .toTimeString()\n        .slice(0, 8)\n        .split(\":\")\n        .join(\"\");\n      for (let i = 0; i < timeStr.length; i++) {\n        numTime.push(parseInt(timeStr[i]));\n      }\n      return numTime;\n    }\n  },\n  destroyed() {\n    // 销毁定时器\n    clearInterval(this.timer);\n  }\n}\n</script>\n\n<style scoped>\n.clock {\n  display: flex;\n}\n.clock .divider {\n  font-size: 66px;\n  line-height: 102px;\n  font-style: normal;\n}\n.clock .flip {\n  position: relative;\n  width: 60px;\n  height: 100px;\n  margin: 2px;\n  font-size: 66px;\n  line-height: 100px;\n  text-align: center;\n  background: white;\n  border: 1px solid black;\n  border-radius: 12px;\n}\n.clock .flip .digital::before, .clock .flip .digital::after {\n  position: absolute;\n  content: attr(data-number);\n  left: 0;\n  right: 0;\n  color: white;\n  background: black;\n  overflow: hidden;\n  -webkit-perspective: 160px;\n  perspective: 160px;\n}\n.clock .flip .digital::before {\n  top: 0;\n  bottom: 50%;\n  border-bottom: 1px solid #666;\n  border-radius: 10px 10px 0 0;\n}\n.clock .flip .digital::after {\n  top: 50%;\n  bottom: 0;\n  line-height: 0;\n  border-radius: 0 0 10px 10px;\n}\n.clock .flip .back::before,\n.clock .flip .front::after {\n  z-index: 1;\n}\n.clock .flip .back::after {\n  z-index: 2;\n}\n.clock .flip .front::before {\n  z-index: 3;\n}\n.clock .flip .back::after {\n  -webkit-transform-origin: center top;\n  transform-origin: center top;\n  -webkit-transform: rotateX(0.5turn);\n  transform: rotateX(0.5turn);\n}\n.clock .flip.running .front::before {\n  -webkit-transform-origin: center bottom;\n  transform-origin: center bottom;\n  -webkit-animation: frontFlipDown 0.6s ease-in-out;\n  animation: frontFlipDown 0.6s ease-in-out;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n}\n.clock .flip.running .back::after {\n  -webkit-animation: backFlipDown 0.6s ease-in-out;\n  animation: backFlipDown 0.6s ease-in-out;\n}\n@-webkit-keyframes frontFlipDown {\n  to {\n    -webkit-transform: rotateX(0.5turn);\n    transform: rotateX(0.5turn);\n  }\n}\n@keyframes frontFlipDown {\n  to {\n    -webkit-transform: rotateX(0.5turn);\n    transform: rotateX(0.5turn);\n  }\n}\n@-webkit-keyframes backFlipDown {\n  to {\n    -webkit-transform: rotateX(0);\n    transform: rotateX(0);\n  }\n}\n@keyframes backFlipDown {\n  to {\n    -webkit-transform: rotateX(0);\n    transform: rotateX(0);\n  }\n}\n</style>\n"]}]}